<%- include("partials/header.ejs") %>
  <h1>Blogging Website</h1>


  <div class="d-flex justify-content-between align-items-center mb-4">
          <div class="btn-group dropend">
            <button type="button" class="btn btn-info dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">Authors</button>
              <ul class="dropdown-menu">
                <% if (authors && authors.length > 0) { %>
                    <% authors.forEach(author => { %>
                    <li>
                      <a class="dropdown-item" href="#"><%= author %></a>
                      </li>
                      <% }) %>
                      <% } else { %>
                      <li>
                        <span class="dropdown-item text-muted">No authors</span>
                      </li>
                    <% } %>
              </ul>
          </div>
    <a href="/blog" class="btn btn-success btn-sm">+ Create Blog</a>
  </div>

  <div class="container mt-4">
  <h2 class="mb-3 text-center">Latest Blogs</h2>

    <% if (blogs.length === 0) { %>
      <div class="alert alert-info text-center">No blogs available</div>
    <% } else { %>


<!-- carousel code -->
  <!-- <div id="blogCarousel" class="carousel slide" data-bs-ride="carousel"> -->
    <div id="blogCarousel" class="carousel slide">

    <div class="carousel-inner">

      <% blogs.slice().reverse().forEach((blog, index) => { %>
        <div class="carousel-item <%= index === 0 ? 'active' : '' %>">
          
          <div class="card shadow-sm mx-auto" style="max-width: 600px;">
            <div class="card-body text-center">

              <h4 class="card-title"><%= blog.title %></h4>

              <p class="text-muted">
                By <strong><%= blog.author %></strong> â€¢
                <%= new Date(blog.createdAt).toLocaleDateString() %>
              </p>

              <p class="card-text">
                <%= blog.content %>
              </p>

            </div>
          </div>

        </div>
      <% }) %>

    </div>

    <!-- Controls -->
    <button class="carousel-control-prev" type="button" data-bs-target="#blogCarousel" data-bs-slide="prev">
      <span class="carousel-control-prev-icon"></span>
    </button>

    <button class="carousel-control-next" type="button" data-bs-target="#blogCarousel" data-bs-slide="next">
      <span class="carousel-control-next-icon"></span>
    </button>

  </div>
  <% } %>

</div>


 <%- include("partials/footer.ejs") %> 
 